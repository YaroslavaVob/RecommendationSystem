## Recommendation System for E-commerce
[![Docker Build](https://img.shields.io/badge/docker-ready-blue)](https://hub.docker.com/)
[![Flask](https://img.shields.io/badge/flask-app-green)]()
[![Prometheus](https://img.shields.io/badge/metrics-monitored-orange)]()

–ì–∏–±—Ä–∏–¥–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ Flask —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ Prometheus –∏ Grafana.\
–°–∏—Å—Ç–µ–º–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –º–æ–¥–µ–ª–∏ CatBoostRanker –∏ item-based —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (Annoy).

–°–∏—Å—Ç–µ–º–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Ç–∏–ø—ã: –∞–∫—Ç–∏–≤–Ω—ã–π, –ø–∞—Å—Å–∏–≤–Ω—ã–π –∏–ª–∏ –Ω–æ–≤—ã–π.\
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–æ–≤–∞—Ä–∞–º–∏:
1) ***–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å*** –ø–æ–ª—É—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:\
–¥–≤–∞ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞ —Å—Ä–µ–¥–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –≥—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä –æ—Ç item-based –º–æ–¥–µ–ª–∏, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π.
2) ***–ü–∞—Å—Å–∏–≤–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é*** (1-3 –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ):\
–∫–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç –¥–≤–∞ —Ç–æ–≤–∞—Ä–∞, –ø–æ—Ö–æ–∂–∏—Ö –Ω–∞ —Ä–∞–Ω–¥–æ–º–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä –∏–∑ –µ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏, + –æ–¥–∏–Ω —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ç–æ–≤–∞—Ä —Å—Ä–µ–¥–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –≥—Ä—É–ø–ø—ã.
3) ***–ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å*** (4 –∏ –±–æ–ª–µ–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ):\
—Ä–∞–Ω–∂–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–∫–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç—Ä–∏ —Ç–æ–≤–∞—Ä–∞ (–∏—Å–∫–ª—é—á–∞—è —Ç–æ–≤–∞—Ä—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª), –∫ –∫–∞–∂–¥–æ–º—É –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–º—É ranker —Ç–æ–≤–∞—Ä—É item-based –º–æ–¥–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç –¥–≤–∞ –ø–æ—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä–∞.\
 –î–∞–ª–µ–µ –≤—Å–µ —ç—Ç–∏ —Ç–æ–≤–∞—Ä—ã —É–º–Ω–æ–∂–∞—é—Ç—Å—è –Ω–∞ –≤–µ—Å–∞ (–≤–µ—Å —Ç–æ–≤–∞—Ä–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω 0.7) –∏ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —Ç—Ä–∏ —Ç–æ–≤–∞—Ä–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –≤–µ—Å–æ–º. –¢–µ–º —Å–∞–º—ã–º –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é –∏ –ø—Ä–æ–¥–≤–∏–≥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –∏ –º–µ–Ω–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã**:
1) –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏;
2) –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

**–§—É–Ω–∫–ª–∏–æ–Ω–∞–ª —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã**:
1) –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É ID
2) –£—á–µ—Ç —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–æ–≤—ã–π, –ø–∞—Å—Å–∏–≤–Ω—ã–π, –∞–∫—Ç–∏–≤–Ω—ã–π)
3) –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π: –ø—Ä–æ—Å–º–æ—Ç—Ä, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É, –ø–æ–∫—É–ø–∫–∞
4) –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –ø–µ—Ä–µ–¥–∞—é—â–∏–µ—Å—è –≤ Prometheus
5) Dashboard Grafana –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

üß± **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

```
project/
‚îú‚îÄ‚îÄ app.py                        # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Flask
‚îú‚îÄ‚îÄ routes.py                     # –º–∞—Ä—à—Ä—É—Ç—ã –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ config.py                     # –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π
‚îú‚îÄ‚îÄ Dockerfile                    
‚îú‚îÄ‚îÄ docker-compose.yml            
‚îú‚îÄ‚îÄ requirements.txt              # –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã 
‚îú‚îÄ‚îÄ README.md                     # –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ prometheus/
‚îÇ   ‚îî‚îÄ‚îÄ prometheus.yml            # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prometheus
‚îú‚îÄ‚îÄ grafana/
‚îÇ   ‚îú‚îÄ‚îÄ dashboards/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ grafana_dashboard.json  # dashboard –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ provisioning/
‚îÇ       ‚îî‚îÄ‚îÄ dashboards/
‚îÇ           ‚îî‚îÄ‚îÄ dashboards.yml      # –∞–≤—Ç–æ–∏–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞ Grafana
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îî‚îÄ‚îÄ db.py                       # –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–≤—ã–º–∏ 10,000 –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ user.py                     # —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ metrics/
‚îÇ   ‚îî‚îÄ‚îÄ prometheus_metrics.py       # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ metrics.py                  # –∞–∫–∫—É–º—É–ª—è—Ü–∏—è –º–µ—Ç—Ä–∏–∫
‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îî‚îÄ‚îÄ data
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cleaned_events.parquet       # –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö —Å —Ç–æ–≤–∞—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cleaned_properties.parquet   # –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏ –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ df_ranker.parquet            # –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –º–æ–¥–µ–ª–∏ ranker
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ items.parquet                # –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è item-based –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ Cleaning Data, EDA, Feature Engineering.ipynb      # –æ—á–∏—Å—Ç–∫–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∏—á–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ Modeling of recommendation system.ipynb            # –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ item_index.ann              # —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä –ø–æ –ø–æ–∏—Å–∫—É –±–ª–∏–∂–∞–π—à–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ catboost_ranker.bin         # –æ–±—É—á–µ–Ω–Ω–Ω–∞—è –º–æ–¥–µ–ª—å CatBoostRanker
‚îÇ   ‚îî‚îÄ‚îÄ optimize_memory_usege.py    # —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –∑–∞ —Å—á–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ time_features.py            # —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ recommend_system.py         # –≥–∏–±—Ä–∏–¥–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ styles.css                  
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html                  # –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ id –∏ –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ –ø–æ id)
‚îÇ   ‚îî‚îÄ‚îÄ user_page.html              # —Ç–æ–≤–∞—Ä—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª
‚îÇ   ‚îî‚îÄ‚îÄ item.html                   # –¥–µ–π—Å—Ç–≤–∏—è —Å —Ç–æ–≤–∞—Ä–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ cart.html                   # –∫–æ—Ä–∑–∏–Ω–∞
```

#### [–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Docker Hub](https://hub.docker.com/r/yroslava11/recommender-app)

#### 1. –î–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è docker image:
**docker pull yroslava11/recommender-app:v.1.0**

#### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

**docker-compose up**

#### 3. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- [http://localhost:5000](http://localhost:5000) ‚Äî Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [http://localhost:9090](http://localhost:9090) ‚Äî Prometheus (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫)
- [http://localhost:3001](http://localhost:3001) ‚Äî Grafana Dashboard (admin/admin)

–í Settings Grafana  ‚Üí Data Sources : –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö Prometheus: http://prometheus:9090, –¥–∞—à–±–æ—Ä–¥ —Å–æ –≤—Å–µ–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–í–µ—Å–æ–º—ã–µ —Ñ–∞–π–ª—ã**, –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤ –¥–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: 
* model/catboost_ranker.bin
* model/item_index.ann
* model/data/df_ranker.parguet
* model/data/items.parquet
* model/data/cleaned_events.parquet
* model/data/cleaned_properties.parquet\
–¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ [Google Drive](https://drive.google.com/drive/folders/1HaG1y6LTxciY4QzDPO5aFcvN537w4zIF?usp=sharing)

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –¥–∏–ø–ª–æ–º–∞ –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ Data Science –∞–ø—Ä–µ–ª—å 2025.

–ê–≤—Ç–æ—Ä: Yaroslava Vobsharkyan \
–î–ª—è —Å–≤—è–∑–∏: [Telegram](https://t.me/YaraVF)
